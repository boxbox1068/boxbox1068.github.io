<!DOCTYPE html>
<meta charset="utf-8">
<title>Anytime Mirror いつでもミラー</title>
<meta name="author" content="shikaku1068">
<meta name="description" content="A mirror app for personal maintenance. 身だしなみチェック用の鏡アプリ。">
<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURT+j3SiKxjuf2Vi89CWGwh99ukar5FS48DOW0SuOySKBvlCz7EOn4Dea1Uyv6C6SzZNmFMMAAAAtSURBVBjTZcC3AcAgAMAwJ/T+/7fsRgShCEPYQham8PiFJVThCE34hCh0IckFGfwHgYmRG/MAAAAASUVORK5CYII=">
<link rel="canonical" href="https://shikaku1068.github.io/anytime-mirror/">
<meta name="viewport" content="width=device-width">
<meta name="format-detection" content="telephone=no,address=no,email=no">
<script>
  'use strict';
  window.addEventListener('DOMContentLoaded', e => main());
  const main = () => {
    const queryParser = new QueryParser();
    const lang = (() => {
      let v = queryParser.getValue('lang', 'string', navigator.language).split('-')[0];
      v = ['en', 'ja'].includes(v) ? v : 'en';
      return v;
    })();
    document.documentElement.lang = lang;
    const device = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent) ? 'sd' : 'pc';
    document.documentElement.dataset.device = device;
    const style = (() => {
      const o = document.createElement('style');
      o.innerHTML = `
        html:not([lang="en"]) .en, html:not([lang="ja"]) .ja {
          display: none;
        }
        html:not([data-device="pc"]) .pc, html:not([data-device="sd"]) .sd {
          display: none;
        }
      `;
      return o;
    })();
    document.head.appendChild(style);
    document.title = {
      en: 'Anytime Mirror',
      ja: 'いつでもミラー'
    }[lang];
    if (queryParser.getValue('readme', 'boolean', false)) return;
    document.body.style.backgroundColor = queryParser.getValue('backgroundColor', 'string', 'rgb(17,119,184)');
    const magnifier = new Magnifier({
      fitMode: queryParser.getValue('fitMode', 'string', 'cover'),
      maxScale: queryParser.getValue('maxScale', 'integer', 5),
      scaleUnit: queryParser.getValue('scaleUnit', 'integer', 10)
    });
    const shutter = (() => {
      const o = new Shutter({
        showWait: queryParser.getValue('hideWait', 'integer', 60) * 1000,
        startVisible: true,
        backgroundColor: 'rgb(242,242,242)',
        color: 'rgb(158,158,158)'
      });
      o.content = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          text-align: center;
          transform: scaleX(-1);
        `;
        o.innerHTML = `
          <strong>
            <span class="en">Anytime Mirror</span>
            <span class="ja">いつでもミラー</span>
          </strong>
        `;
        return o;
      })();
      o.onShow = () => {
        camera.pause();
        notifier.notify(`
          <span class="en pc">Double-Click or press Esc to reshow...</span>
          <span class="en sd">Double-Tap to reshow...</span>
          <span class="ja pc">ダブルクリック又はエスケープキーで再表示...</span>
          <span class="ja sd">ダブルタップで再表示...</span>
        `);
      };
      o.onHide = () => {
        magnifier.update();
        camera.unpause();
        notifier.notify('');
      };
      return o;
    })();
    const notifier = new Notifier({
      alignCenter: false,
      alignBottom: true,
      backgroundColor: 'rgb(53,54,58)',
      color: 'rgb(255,255,255)'
    });
    const controller = (() => {
      const o = new Controller({
        inputWait: queryParser.getValue('inputWait', 'integer', 250)
      });
      o.isEnabled = false;
      o.onClick = () => {
        if (shutter.isHidden) camera.togglePause();
      };
      o.onDoubleClick = () => shutter.toggleHide();
      o.onDrag = (movementX, movementY) => {
        if (shutter.isHidden) magnifier.move(movementX, movementY, true);
      };
      o.onDrop = () => {
        if (shutter.isHidden) magnifier.update();
      };
      o.onScroll = deltaY => {
        if (shutter.isHidden) magnifier.magnify(deltaY)
      };
      o.onKeyDown = keyCode => {
        if (keyCode == 0x20) { // 0x20: VK_SPACE
          if (shutter.isHidden) camera.togglePause();
        } else if (keyCode == 0x0D) { // 0x0D: VK_RETURN
          shutter.show();
        } else  if (keyCode == 0x1B) { // 0x1B: VK_ESCAPE
          shutter.hide();
        } else if (keyCode == 0x26) { // 0x26: VK_UP
          if (shutter.isHidden) magnifier.move(0, -25);
        } else if (keyCode == 0x28) { // 0x28: VK_DOWN
          if (shutter.isHidden) magnifier.move(0, 25);
        } else if (keyCode == 0x25) { // 0x25: VK_LEFT
          if (shutter.isHidden) magnifier.move(-25, 0);
        } else if (keyCode == 0x27) { // 0x27: VK_RIGHT
          if (shutter.isHidden) magnifier.move(25, 0);
        } else if (keyCode == 0x21) { // 0x21: VK_PRIOR
          if (shutter.isHidden) magnifier.magnify(-100);
        } else if (keyCode == 0x22) { // 0x22: VK_NEXT
          if (shutter.isHidden) magnifier.magnify(100);
        }
      };
      o.onAnyAction = () => {
        if (shutter.isHidden) shutter.resetShowTimer();
      };
      return o;
    })();
    const menu = (() => {
      const o = new Menu();
      o.addItem(informationSvg, () => aboutTheAppDialog.show());
      o.addItem(questionSvg, () => helpDialog.show());
      if (queryParser.getValue('enableSnapshot', 'boolean', true)) {
        o.addItem(cameraSvg, e => {
          camera.snapshot().then(blob => {
            const d = new Date();
            const time = (
              d.getFullYear().toString() + (d.getMonth() + 1).toString().padStart(2, '0') +
              d.getDate().toString().padStart(2, '0') + d.getHours().toString().padStart(2, '0') +
              d.getMinutes().toString().padStart(2, '0') + d.getSeconds().toString().padStart(2, '0')
            );
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `am-snapshot_${time}.jpg`;
            a.dispatchEvent(e);
          });
        });
      }
      if (location.protocol == 'https:' && 'serviceWorker' in navigator) {
        o.addItem(reloadSvg, () => {
          if (! navigator.onLine) return;
          navigator.serviceWorker.getRegistration().then(registration => {
            registration && registration.unregister();
            location.reload();
          });
        });
      }
      return o;
    })();
    const aboutTheAppDialog = (() => {
      const o = new Dialog({
        backgroundColor: 'rgb(242,242,242)',
        color: 'rgb(53,54,58)'
      });
      o.title = `
        <strong>
          <span class="en">About The App</span>
          <span class="ja">アプリについて</span>
        </strong>
      `;
      o.content = document.querySelector('#about-the-app-content');
      o.onShow = () => controller.pauseKeyboard();
      o.onHide = () => controller.restartKeyboard();
      return o;
    })();
    const helpDialog = (() => {
      const o = new Dialog({
        backgroundColor: 'rgb(242,242,242)',
        color: 'rgb(53,54,58)'
      });
      o.title = `
        <strong>
          <span class="en">Help</span>
          <span class="ja">ヘルプ</span>
        </strong>
      `;
      o.content = document.querySelector('#help-content');
      o.onShow = () => controller.pauseKeyboard();
      o.onHide = () => controller.restartKeyboard();
      return o;
    })();
    const appContainer = (() => {
      const o = new AppContainer();
      o.onVisibilityChange = () => magnifier.update();
      o.onResize = () => magnifier.update(false, true);
      o.appendChildren([
        magnifier.body,
        shutter.body,
        notifier.body,
        controller.body,
        menu.body,
        aboutTheAppDialog.body,
        helpDialog.body
      ]);
      return o;
    })();
    document.body.appendChild(appContainer.body);
    const camera = new Camera({
      flip: queryParser.getValue('flip', 'boolean', true),
      grayscale: queryParser.getValue('grayscale', 'boolean', false)
    });
    camera.start(video => {
      magnifier.content = video;
      controller.isEnabled = true;
      shutter.hide();
    }, error => {
      window.alert({
        en: 'Error: Cannot use camera. Please change the settings of your browser or try another browser.',
        ja: 'エラー：カメラを使用できません。ブラウザの設定を見直すか、別のブラウザをお試しください。'
      }[lang]);
      notifier.notify(`
        <span class="en">Error: Cannot use camera.</span>
        <span class="ja">エラー：カメラを使用できません。</span>
      `);
    });
    if (location.protocol == 'https:' && 'serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js');
      document.head.insertAdjacentHTML('beforeend', {
        en: '<link rel="manifest" href="./manifest.json">',
        ja: '<link rel="manifest" href="./manifest-ja.json">'
      }[lang]);
      document.head.insertAdjacentHTML('beforeend', '<link rel="apple-touch-icon" href="./icons/icon-180x180.png">');
    }
    window.addEventListener('pageshow', (() => {
      let isFirstCall = true;
      return e => {
        if (! isFirstCall) window.location.reload();
        isFirstCall = false;
      };
    }));
  };
  class QueryParser {
    constructor({} = {}) {
      const values = {};
      const queryString = decodeURIComponent(location.search.slice(1));
      queryString.split('&').forEach(parameter => {
        let key, value;
        if (parameter.match(/=/)) {
          key = parameter.match(/^[^=]*/)[0].toLowerCase().trim();
          value = parameter.match(/=.*$/)[0].slice(1).trim();
        } else {
          key = parameter.toLowerCase().trim();
          value = 'true';
        }
        if (key) values[key] = value;
      });
      this._values = values;
    }
    getValue(key, type, defaultValue) {
      key = typeof key == 'string' ? key : '';
      type = typeof type == 'string' ? type : '';
      let value = this._values[key.toLowerCase().trim()];
      if (type == 'number') {
        value = Number(value);
        if (! Number.isFinite(value)) value = null;
      } else if (type == 'integer') {
        value = Number(value);
        if (! Number.isInteger(value)) value = null;
      } else if (type == 'boolean') {
        if (/^\s*true\s*$/i.test(value)) {
          value = true;
        } else if (/^\s*false\s*$/i.test(value)) {
          value = false;
        } else {
          value = null;
        }
      }
      if (value == null) value = defaultValue;
      return value;
    }
  }
  class AppContainer {
    constructor({backgroundColor, color} = {}) {
      backgroundColor = typeof backgroundColor == 'string' ? backgroundColor : '';
      color = typeof color == 'string' ? color : '';
      const body = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          overflow: hidden;
          box-sizing: border-box;
          background-color: ${backgroundColor};
          color: ${color};
          font-size: min(1rem, 5vmin);
          font-family: sans-serif;
          -webkit-user-select: none;
          user-select: none;
          touch-action: none;
        `;
        o.addEventListener('contextmenu', e => {
          e.preventDefault();
        });
        o.addEventListener('touchstart', e => {
          if (e.touches.length == 1) return;
          e.preventDefault();
        }, {capture: true, passive: false});
        o.addEventListener('touchmove', e => {
          if (e.touches.length == 1) return;
          e.preventDefault();
        }, {capture: true, passive: false});
        return o;
      })();
      document.addEventListener('visibilitychange', e => {
        this._onVisibilityChange();
      });
      const monitorResize = (lastWidth, lastHeight, countDown) => {
        const currentWidth = body.clientWidth;
        const currentHeight = body.clientHeight;
        if (currentWidth != lastWidth || currentHeight != lastHeight) {
          countDown = 5;
        } else if (countDown-- && countDown == 0) {
          this._onResize(currentWidth, currentHeight);
        }
        window.setTimeout(() => {
          monitorResize(currentWidth, currentHeight, countDown);
        }, 200);
      };
      monitorResize(body.clientWidth, body.clientHeight, 0);
      this._body = body;
      this._onVisibilityChange = () => {};
      this._onResize = () => {};
    }
    get body() {
      return this._body;
    }
    set onVisibilityChange(handler) {
      if (typeof handler != 'function') return false;
      this._onVisibilityChange = handler;
    }
    set onResize(handler) {
      if (typeof handler != 'function') return false;
      this._onResize = handler;
    }
    appendChildren(children) {
      if (! Array.isArray(children)) return false;
      children.forEach(child => {
        if (! child instanceof HTMLElement) return;
        this._body.appendChild(child);
      });
    }
  }
  class Magnifier {
    constructor({fitMode, maxScale, scaleUnit, backgroundColor} = {}) {
      fitMode = typeof fitMode == 'string' ? fitMode.toLowerCase().trim() : 'none';
      maxScale = Number.isInteger(maxScale) ? Math.max(1, Math.min(10, maxScale)) : 5;
      scaleUnit = Number.isInteger(scaleUnit) ? Math.max(1, Math.min(100, scaleUnit)) : 10;
      backgroundColor = typeof backgroundColor == 'string' ? backgroundColor : '';
      const body = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          overflow: hidden;
          box-sizing: border-box;
          background-color: ${backgroundColor};
        `;
        return o;
      })();
      const contentWrapper = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          display: flex;
          justify-content: center;
          align-items: center;
          position: absolute;
          max-width: 100%;
          max-height: 100%;
          overflow: hidden;
          box-sizing: border-box;
        `;
        return o;
      })();
      body.appendChild(contentWrapper);
      this._body = body;
      this._contentWrapper = contentWrapper;
      this._content = null;
      this._fitMode = fitMode;
      this._maxScale = maxScale;
      this._scaleUnit = scaleUnit;
      this._backgroundColor = backgroundColor;
    }
    get body() {
      return this._body;
    }
    set content(content) {
      if (! content instanceof HTMLElement) return;
      if (! /^(iframe|video|embed|img)$/i.test(content.tagName)) return;
      if (this._contentWrapper.children.length) {
        this._contentWrapper.children.forEach(child => child.remove());
      }
      this._contentWrapper.appendChild(content);
      this._content = content;
      this.update(false, true);
    }
    update(anchor, reset) {
      anchor = typeof anchor == 'boolean' ? anchor : false;
      reset = typeof reset == 'boolean' ? reset : false;
      if (! this._content) return false;
      if (reset) {
        this._content.style.width = '';
        this._content.style.height = '';
        this._content.style.objectFit = '';
        const contentWidth = this._content.offsetWidth;
        const contentHeight = this._content.offsetHeight;
        const contentWidthToHeight = contentWidth / Math.max(1, contentHeight);
        const bodyWidth = this._body.offsetWidth;
        const bodyHeight = this._body.offsetHeight;
        const bodyWidthToHeight = bodyWidth / Math.max(1, bodyHeight);
        if (this._fitMode == 'contain') {
          if (contentWidthToHeight > bodyWidthToHeight) {
            this._content.style.width = `${bodyWidth}px`;
          } else {
            this._content.style.height = `${bodyHeight}px`;
          }
          this._content.style.objectFit = 'contain';
        } else if (this._fitMode == 'cover') {
          if (contentWidthToHeight < bodyWidthToHeight) {
            this._content.style.width = `${bodyWidth}px`;
          } else {
            this._content.style.height = `${bodyHeight}px`;
          }
          this._content.style.objectFit = 'cover';
        } else if (this._fitMode == 'fittowidth') {
          this._content.style.width = `${bodyWidth}px`;
          this._content.style.objectFit = 'cover';
        } else if (this._fitMode == 'fittoheight') {
          this._content.style.height = `${bodyHeight}px`;
          this._content.style.objectFit = 'cover';
        } else if (this._fitMode == 'scaledown') {
          if (contentWidthToHeight > bodyWidthToHeight && contentWidth > bodyWidth) {
            this._content.style.width = `${bodyWidth}px`;
            this._content.style.objectFit = 'cover';
          } else if (contentWidthToHeight < bodyWidthToHeight && contentHeight > bodyHeight) {
            this._content.style.height = `${bodyHeight}px`;
            this._content.style.objectFit = 'cover';
          } else {
            this._content.style.objectFit = 'none';
          }
        } else if (this._fitMode == 'fill') {
          this._content.style.width = `${bodyWidth}px`;
          this._content.style.height = `${bodyHeight}px`;
          this._content.style.objectFit = 'fill';
        } else {
          this._content.style.objectFit = 'none';
        }
        this._scale = this._scale || 1;
        this._offsetX = (this._body.offsetWidth - this._contentWrapper.offsetWidth) / 2;
        this._offsetY = (this._body.offsetHeight - this._contentWrapper.offsetHeight) / 2;
        this._movementX = 0;
        this._movementY = 0;
      }
      if (! anchor) {
        const bodyWidth = this._body.offsetWidth;
        const contentWidth = this._contentWrapper.offsetWidth * this._scale;
        if (contentWidth < bodyWidth) {
          this._movementX = 0;
        } else {
          const minMovementX = (bodyWidth - contentWidth) / 2;
          const maxMovementX = (contentWidth - bodyWidth) / 2;
          this._movementX = Math.max(minMovementX, Math.min(maxMovementX, this._movementX));
        }
        const bodyHeight = this._body.offsetHeight;
        const contentHeight = this._contentWrapper.offsetHeight * this._scale;
        if (contentHeight < bodyHeight) {
          this._movementY = 0;
        } else {
          const minMovementY = (bodyHeight - contentHeight) / 2;
          const maxMovementY = (contentHeight - bodyHeight) / 2;
          this._movementY = Math.max(minMovementY, Math.min(maxMovementY, this._movementY));
        }
      }
      this._contentWrapper.style.transform = `scale(${this._scale})`;
      this._contentWrapper.style.marginLeft = `${this._offsetX + this._movementX}px`;
      this._contentWrapper.style.marginTop = `${this._offsetY + this._movementY}px`;
    }
    magnify(amount) {
      amount = Number.isFinite(amount) ? amount : 0;
      if (! this._content) return false;
      this._scale += amount * -0.01 / this._scaleUnit;
      this._scale = Math.max(1, Math.min(this._maxScale, this._scale));
      this.update();
    }
    move(movementX, movementY, anchor) {
      movementX = Number.isFinite(movementX) ? movementX : 0;
      movementY = Number.isFinite(movementY) ? movementY : 0;
      anchor = typeof anchor == 'boolean' ? anchor : false;
      if (! this._content) return false;
      this._movementX += movementX;
      this._movementY += movementY;
      this.update(anchor);
    }
  }
  class Shutter {
    constructor({showWait, startVisible, backgroundColor, color, transition} = {}) {
      showWait = Number.isInteger(showWait) ? Math.max(0, Math.min(3600000, showWait)) : 60000;
      startVisible = typeof startVisible == 'boolean' ? startVisible : false;
      backgroundColor = typeof backgroundColor == 'string' ? backgroundColor : 'rgb(255,255,255)';
      color = typeof color == 'string' ? color : 'rgb(0,0,0)';
      transition = Number.isInteger(transition) ? Math.max(0, Math.min(2000, transition)) : 500;
      const body = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          display: flex;
          justify-content: center;
          align-items: center;
          visibility: ${startVisible ? 'visible' : 'hidden'};
          opacity: ${startVisible ? '1' : '0'};
          position: absolute;
          top: 0;
          left: 0;
          z-index: 100;
          width: 100%;
          height: 100%;
          box-sizing: border-box;
          background-color: ${backgroundColor};
          color: ${color};
          transition: ${transition}ms;
          -webkit-user-select: none;
          user-select: none;
        `;
        return o;
      })();
      const contentWrapper = document.createElement('div');
      body.appendChild(contentWrapper);
      this._body = body;
      this._contentWrapper = contentWrapper;
      this._showWait = showWait;
      this._showTimeoutId = null;
      this._onShow = () => {};
      this._onHide = () => {};
      this.resetShowTimer();
    }
    get body() {
      return this._body;
    }
    get isHidden() {
      return this._body.style.visibility == 'hidden';
    }
    set content(content) {
      if (! content instanceof HTMLElement) return;
      if (this._contentWrapper.children.length) {
        this._contentWrapper.children.forEach(child => child.remove());
      }
      this._contentWrapper.appendChild(content);
    }
    set onShow(handler) {
      if (typeof handler != 'function') return;
      this._onShow = handler;
    }
    set onHide(handler) {
      if (typeof handler != 'function') return;
      this._onHide = handler;
    }
    resetShowTimer() {
      window.clearTimeout(this._showTimeoutId);
      if (! this.isHidden) return false;
      if (this._showWait == 0) return false;
      this._showTimeoutId = window.setTimeout(() => {
        this._showTimeoutId = null;
        this.show();
      }, this._showWait);
    }
    show() {
      this._body.style.visibility = 'visible';
      this._body.style.opacity = '1';
      this._onShow();
    }
    hide() {
      this._body.style.opacity = '0';
      this._body.style.visibility = 'hidden';
      this._onHide();
      this.resetShowTimer();
    }
    toggleHide() {
      this.isHidden ? this.show() : this.hide();
    }
  }
  class Notifier {
    constructor({alignCenter, alignBottom, backgroundColor, color, transition} = {}) {
      alignCenter = typeof alignCenter == 'boolean' ? alignCenter : false;
      alignBottom = typeof alignBottom == 'boolean' ? alignBottom : false;
      backgroundColor = typeof backgroundColor == 'string' ? backgroundColor : 'rgba(0,0,0,.6)';
      color = typeof color == 'string' ? color : 'rgb(255,255,255)';
      transition = Number.isInteger(transition) ? Math.max(0, Math.min(2000, transition)) : 500;
      const body = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          display: flex;
          justify-content: ${alignCenter ? 'center' : ''};
          align-items: center;
          opacity: 0;
          position: absolute;
          top: ${alignBottom ? '' : '0'};
          bottom: ${alignBottom ? '0' : ''};
          left: 0;
          z-index: 100;
          width: 100%;
          height: 4em;
          padding: 0 1em;
          box-sizing: border-box;
          background-color: ${backgroundColor};
          color: ${color};
          transition: ${transition}ms;
          -webkit-user-select: none;
          user-select: none;
          pointer-events: none;
        `;
        return o;
      })();
      this._body = body;
      this._transition = transition;
      this._text = '';
    }
    get body() {
      return this._body;
    }
    notify(text) {
      text = typeof text == 'string' ? text : '';
      this._body.style.opacity = text ? '1' : '0';
      this._body.innerHTML = text;
    }
  }
  class Controller {
    constructor({enableKeyboard, enableMouse, enableTouch, inputWait} = {}) {
      enableKeyboard = typeof enableKeyboard == 'boolean' ? enableKeyboard : true;
      enableMouse = typeof enableMouse == 'boolean' ? enableMouse : true;
      enableTouch = typeof enableTouch == 'boolean' ? enableTouch : true;
      inputWait = Number.isInteger(inputWait) ? Math.max(100, Math.min(1000, inputWait)) : 250;
      const body = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          position: absolute;
          top: 0;
          left: 0;
          z-index: 100;
          width: 100%;
          height: 100%;
          box-sizing: border-box;
          outline: none;
        `;
        return o;
      })();
      if (enableKeyboard) {
        body.tabIndex = 0;
        body.focus();
        body.addEventListener('blur', e => {
          e.preventDefault();
          e.stopPropagation();
          body.focus();
        });
        body.addEventListener('keydown', e => {
          if (body.style.display == 'none') return;
          if (e.ctrlKey || e.altKey || e.metaKey) return;
          e.preventDefault();
          e.stopPropagation();
          if (! this._isEnabled) return;
          this._onAnyAction();
          this._onKeyDown(e.keyCode);
        });
      }
      if (enableMouse) {
        let clickTimeoutId = null;
        let clickCount = 0;
        let isDragging = false;
        let lastButton = null;
        body.addEventListener('mousedown', e => {
          e.preventDefault();
          e.stopPropagation();
          if (! this._isEnabled) return;
          this._onAnyAction();
          window.clearTimeout(clickTimeoutId);
          clickTimeoutId = null;
          if (e.button == lastButton) {
            clickCount++;
          } else {
            clickCount = 1;
            lastButton = e.button;
            if (isDragging) this._onDrop();
          }
          isDragging = false;
        });
        body.addEventListener('mousemove', e => {
          e.preventDefault();
          e.stopPropagation();
          if (! this._isEnabled) return;
          this._onAnyAction();
          if (e.buttons & 1) { // 1: Primary button
            if (clickCount >= 1) isDragging = true;
          } else {
            if (isDragging) this._onDrop();
            isDragging = false;
          }
          clickCount = 0;
          if (isDragging) {
            this._onDrag(e.movementX, e.movementY);
          }
        });
        body.addEventListener('mouseup', e => {
          e.preventDefault();
          e.stopPropagation();
          if (! this._isEnabled) return;
          this._onAnyAction();
          if (isDragging) {
            if (e.button == 0) { // 0: Main button
              this._onDrop();
              isDragging = false;
            }
          } else {
            clickTimeoutId = window.setTimeout(() => {
              clickTimeoutId = null;
              if (lastButton == 0) { // 0: Main button
                if (clickCount == 1) this._onClick();
                if (clickCount == 2) this._onDoubleClick();
              } else if (lastButton == 1) { // 1: Auxiliary button
                if (clickCount == 1) this._onMiddleClick();
              } else if (lastButton == 2) { // 2: Secondary button
                if (clickCount == 1) this._onRightClick();
              }
              clickCount = 0;
            }, inputWait);
          }
        });
        body.addEventListener('wheel', e => {
          e.preventDefault();
          e.stopPropagation();
          if (! this._isEnabled) return;
          this._onAnyAction();
          this._onScroll(e.deltaY);
        });
      }
      if (enableTouch) {
        let tapTimeoutId = null;
        let touchCount = 0;
        let isDragging = false;
        let isScrolling = false;
        let lastTouch = null;
        body.addEventListener('touchstart', e => {
          e.preventDefault();
          e.stopPropagation();
          if (! this._isEnabled) return;
          this._onAnyAction();
          window.clearTimeout(tapTimeoutId);
          if (e.touches.length == 1) {
            touchCount++;
            lastTouch = e.touches[0];
          } else {
            touchCount = 0;
            if (isDragging) this._onDrop();
          }
          isDragging = false;
          isScrolling = false;
        });
        body.addEventListener('touchmove', e => {
          e.preventDefault();
          e.stopPropagation();
          if (! this._isEnabled) return;
          this._onAnyAction();
          if (touchCount == 1) isDragging = true;
          if (touchCount >= 2) isScrolling = true;
          touchCount = 0;
          let currentTouch = e.touches[0];
          if (isDragging) {
            let movementX = currentTouch.screenX - lastTouch.screenX;
            let movementY = currentTouch.screenY - lastTouch.screenY;
            this._onDrag(movementX, movementY);
          } else if (isScrolling) {
            let deltaY = (lastTouch.screenY - currentTouch.screenY) * 10;
            this._onScroll(deltaY);
          }
          lastTouch = currentTouch;
        });
        body.addEventListener('touchend', e => {
          e.preventDefault();
          e.stopPropagation();
          if (! this._isEnabled) return;
          this._onAnyAction();
          if (isDragging) {
            this._onDrop();
          } else {
            tapTimeoutId = window.setTimeout(() => {
              tapTimeoutId = null;
              if (touchCount == 1) this._onClick();
              if (touchCount == 2) this._onDoubleClick();
              touchCount = 0;
            }, inputWait);
          }
        });
      }
      this._body = body;
      this._onDrag = () => {};
      this._onDrop = () => {};
      this._onClick = () => {};
      this._onDoubleClick = () => {};
      this._onMiddleClick = () => {};
      this._onRightClick = () => {};
      this._onScroll = () => {};
      this._onKeyDown = () => {};
      this._onAnyAction = () => {};
      this._isEnabled = true;
      this._enableKeyboard = enableKeyboard;
    }
    get body() {
      return this._body;
    }
    get isEnabled() {
      return this._isEnabled;
    }
    set isEnabled(boolean) {
      if (typeof boolean != 'boolean') return;
      if (boolean) {
        this._isEnabled = true;
        this.restartKeyboard();
      } else {
        this._isEnabled = false;
        this.pauseKeyboard();
      }
    }
    set onDrag(handler) {
      if (typeof handler != 'function') return;
      this._onDrag = handler;
    }
    set onDrop(handler) {
      if (typeof handler != 'function') return;
      this._onDrop = handler;
    }
    set onClick(handler) {
      if (typeof handler != 'function') return;
      this._onClick = handler;
    }
    set onDoubleClick(handler) {
      if (typeof handler != 'function') return;
      this._onDoubleClick = handler;
    }
    set onMiddleClick(handler) {
      if (typeof handler != 'function') return;
      this._onMiddleClick = handler;
    }
    set onRightClick(handler) {
      if (typeof handler != 'function') return;
      this._onRightClick = handler;
    }
    set onScroll(handler) {
      if (typeof handler != 'function') return;
      this._onScroll = handler;
    }
    set onKeyDown(handler) {
      if (typeof handler != 'function') return;
      this._onKeyDown = handler;
    }
    set onAnyAction(handler) {
      if (typeof handler != 'function') return;
      this._onAnyAction = handler;
    }
    pauseKeyboard() {
      if (this._enableKeyboard) {
        this._body.blur();
        this._body.tabIndex = -1;
      }
    }
    restartKeyboard() {
      if (this._enableKeyboard) {
        this._body.style.tabIndex = 0;
        this._body.focus();
      }
    }
  }
  class Menu {
    constructor({alignRight, alignBottom, color, shadowColor} = {}) {
      alignRight = typeof alignRight == 'boolean' ? alignRight : false;
      alignBottom = typeof alignBottom == 'boolean' ? alignBottom : false;
      color = typeof color == 'string' ? color : 'rgb(255,255,255)';
      shadowColor = typeof shadowColor == 'string' ? shadowColor : 'rgb(53,54,58)';
      const body = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          display: flex;
          justify-content: ${alignRight ? 'flex-end' : 'flex-start'};
          align-items: center;
          position: absolute;
          top: ${alignBottom ? '' : '0'};
          bottom: ${alignBottom ? '0' : ''};
          left: 0;
          z-index: 100;
          width: 100%;
          height: 3rem;
          padding: 0 1.5rem;
          box-sizing: border-box;
          color: ${color};
          font-size: 1.5rem;
          line-height: 100%;
          pointer-events: none;
        `;
        return o;
      })();
      this._body = body;
      this._alignRight = alignRight;
      this._shadowColor = shadowColor;
      this._isEnabled = true;
    }
    get body() {
      return this._body;
    }
    get isEnabled() {
      return this._isEnabled;
    }
    set isEnabled(boolean) {
      if (typeof boolean != 'boolean') return;
      this._isEnabled = boolean;
    }
    addItem(text, onClick) {
      text = typeof text == 'string' ? text : '';
      onClick = typeof onClick == 'function' ? onClick : () => {};
      const item = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          margin-right: ${this._alignRight ? '' : '1.5em'};
          margin-left: ${this._alignRight ? '1.5em' : ''};
          text-shadow:
            0 -1px ${this._shadowColor}, 1px 0 ${this._shadowColor},
            0 1px ${this._shadowColor}, -1px 0 ${this._shadowColor},
            -1px -1px ${this._shadowColor}, 1px -1px ${this._shadowColor},
            1px 1px ${this._shadowColor}, -1px 1px ${this._shadowColor};
          cursor: pointer;
          -webkit-user-select: none;
          user-select: none;
          pointer-events: auto;
        `;
        o.innerHTML = text || '*';
        o.addEventListener('click', e => {
          if (! this._isEnabled) return;
          onClick(e);
        });
        return o;
      })();
      this._body.appendChild(item);
    }
  }
  class Dialog {
    constructor({startVisible, backgroundColor, color, curtainOpacity, transition, disableDoubleTap} = {}) {
      startVisible = typeof startVisible == 'boolean' ? startVisible : false;
      backgroundColor = typeof backgroundColor == 'string' ? backgroundColor : 'rgb(255,255,255)';
      color = typeof color == 'string' ? color : 'rgb(0,0,0)';
      curtainOpacity = Number.isFinite(curtainOpacity) ? Math.max(0, Math.min(1, curtainOpacity)) : 0.7;
      transition = Number.isInteger(transition) ? Math.max(0, Math.min(3000, transition)) : 500;
      disableDoubleTap = typeof disableDoubleTap == 'boolean' ? disableDoubleTap : true;
      const body = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          display: flex;
          justify-content: center;
          align-items: center;
          visibility: ${startVisible ? 'visible' : 'hidden'};
          opacity: ${startVisible ? '1' : '0'};
          position: absolute;
          top: 0;
          left: 0;
          z-index: 100;
          width: 100%;
          height: 100%;
          box-sizing: border-box;
          overflow-wrap: break-word;
          transition: ${transition}ms;
        `;
        if (disableDoubleTap) {
          let isRightAfterTap = false;
          o.addEventListener('touchend', e => {
            if (isRightAfterTap) {
              e.preventDefault();
              return;
            }
            isRightAfterTap = true;
            window.setTimeout(() => isRightAfterTap = false, 500);
          }, {capture: true, passive: false});
        }
        return o;
      })();
      const curtain = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          box-sizing: border-box;
          background-color: rgba(0,0,0,${curtainOpacity});
        `;
        o.addEventListener('click', e => {
          e.preventDefault();
          e.stopPropagation();
          if (e.button == 0) this.hide(); // 0: Main button
        });
        return o;
      })();
      const panel = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          position: relative;
          width: calc(100% - 20vmin);
          height: calc(100% - 20vmin);
          box-sizing: border-box;
          background-color: ${backgroundColor};
          color: ${color};
        `;
        return o;
      })();
      const titleBar = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          display: flex;
          justify-content: center;
          align-items: center;
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 3em;
          box-sizing: border-box;
          font-weight: bold;
          -webkit-user-select: none;
          user-select: none;
        `;
        return o;
      })();
      const contentWrapper = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          position: absolute;
          bottom: 1em;
          left: 0;
          width: 100%;
          height: calc(100% - 3em - 1em);
          padding: 1em 2em;
          overflow-y: auto;
          box-sizing: border-box;
        `;
        return o;
      })();
      const closeButton = (() => {
        const o = document.createElement('div');
        o.style.cssText = `
          position: absolute;
          top: .5em;
          right: 1em;
          font-weight: bold;
          cursor: pointer;
          -webkit-user-select: none;
          user-select: none;
        `;
        o.innerHTML = '&#x2715';
        o.addEventListener('click', e => {
          e.preventDefault();
          e.stopPropagation();
          if (e.button == 0) this.hide(); // 0: Main button
        });
        return o;
      })();
      body.appendChild(curtain);
      body.appendChild(panel);
      panel.appendChild(titleBar);
      panel.appendChild(contentWrapper);
      panel.appendChild(closeButton);
      this._body = body;
      this._titleBar = titleBar;
      this._contentWrapper = contentWrapper;
      this._onShow = () => {};
      this._onHide = () => {};
    }
    get body() {
      return this._body;
    }
    get isHidden() {
      return this._body.style.visibility == 'hidden';
    }
    set title(title) {
      if (typeof title != 'string') return;
      this._titleBar.innerHTML = title;
    }
    set content(content) {
      if (! content instanceof HTMLElement) return;
      if (this._contentWrapper.children.length) {
        this._contentWrapper.children.forEach(child => child.remove());
      }
      this._contentWrapper.appendChild(content);
    }
    set onShow(handler) {
      if (typeof handler != 'function') return;
      this._onShow = handler;
    }
    set onHide(handler) {
      if (typeof handler != 'function') return;
      this._onHide = handler;
    }
    show() {
      if (! this.isHidden) return;
      this._body.style.visibility = 'visible';
      this._body.style.opacity = '1';
      this._onShow();
    }
    hide() {
      if (this.isHidden) return;
      this._body.style.opacity = '0';
      this._body.style.visibility = 'hidden';
      this._onHide();
    }
  }
  class Camera {
    constructor({flip, grayscale} = {}) {
      flip = typeof flip == 'boolean' ? flip : false;
      grayscale = typeof grayscale == 'boolean' ? grayscale : false;
      const video = (() => {
        const o = document.createElement('video');
        o.style.cssText = `
          transform: ${flip ? 'scaleX(-1)' : ''};
          filter: ${grayscale ? 'grayscale(100%)' : ''};
        `;
        o.autoplay = true;
        o.muted = true;
        o.setAttribute('playsinline', null);
        return o;
      })();
      this._video = video;
    }
    start(callback, errorCallback) {
      if (this._isStarted) return false;
      if (typeof callback != 'function') return false;
      errorCallback = typeof errorCallback == 'function' ? errorCallback : () => {};
      if (! navigator.mediaDevices) {
        errorCallback();
        return false;
      }
      navigator.mediaDevices.getUserMedia({
        video: {facingMode: 'user'},
        audio: false
      }).then(stream => {
        this._video.addEventListener('loadedmetadata', e => callback(this._video));
        this._video.srcObject = stream;
        this._isStarted = true;
      }).catch(error => {
        errorCallback();
      });
    }
    stop() {
      if (! this._isStarted) return false;
      this._video.pause();
      this._video.srcObject.getTracks().forEach(track => track.enabled = false);
    }
    restart() {
      if (! this._isStarted) return false;
      this._video.play();
      this._video.srcObject.getTracks().forEach(track => track.enabled = true);
    }
    pause() {
      if (! this._isStarted) return false;
      this._video.pause()
    }
    unpause() {
      if (! this._isStarted) return false;
      this._video.play();
    }
    togglePause() {
      if (! this._isStarted) return false;
      this._video.paused ? this._video.play() : this._video.pause();
    }
    snapshot() {
      if (! this._isStarted) return false;
      const canvas = document.createElement('canvas');
      canvas.width = this._video.videoWidth;
      canvas.height = this._video.videoHeight;
      canvas.getContext('2d').drawImage(this._video, 0, 0);
      return new Promise(resolve => {
        canvas.toBlob(resolve, 'image/jpeg', 1);
      });
    }
  }
  const informationSvg = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 640 640" width="640" height="640"><defs><path d="M346.23 1.06L359.13 2.37L371.88 4.19L384.46 6.51L396.86 9.31L409.08 12.58L421.1 16.33L432.91 20.52L444.51 25.16L455.88 30.24L467.01 35.74L477.89 41.65L488.51 47.97L498.86 54.68L508.94 61.78L518.72 69.24L528.2 77.07L537.38 85.25L546.23 93.77L554.75 102.62L562.93 111.8L570.76 121.28L578.22 131.06L585.32 141.14L592.03 151.49L598.35 162.11L604.26 172.99L609.76 184.12L614.84 195.49L619.48 207.09L623.67 218.9L627.42 230.92L630.69 243.14L633.49 255.54L635.81 268.12L637.63 280.87L638.94 293.77L639.73 306.82L640 320L639.73 333.18L638.94 346.23L637.63 359.13L635.81 371.88L633.49 384.46L630.69 396.86L627.42 409.08L623.67 421.1L619.48 432.91L614.84 444.51L609.76 455.88L604.26 467.01L598.35 477.89L592.03 488.51L585.32 498.86L578.22 508.94L570.76 518.72L562.93 528.2L554.75 537.38L546.23 546.23L537.38 554.75L528.2 562.93L518.72 570.76L508.94 578.22L498.86 585.32L488.51 592.03L477.89 598.35L467.01 604.26L455.88 609.76L444.51 614.84L432.91 619.48L421.1 623.67L409.08 627.42L396.86 630.69L384.46 633.49L371.88 635.81L359.13 637.63L346.23 638.94L333.18 639.73L320 640L306.82 639.73L293.77 638.94L280.87 637.63L268.12 635.81L255.54 633.49L243.14 630.69L230.92 627.42L218.9 623.67L207.09 619.48L195.49 614.84L184.12 609.76L172.99 604.26L162.11 598.35L151.49 592.03L141.14 585.32L131.06 578.22L121.28 570.76L111.8 562.93L102.62 554.75L93.77 546.23L85.25 537.38L77.07 528.2L69.24 518.72L61.78 508.94L54.68 498.86L47.97 488.51L41.65 477.89L35.74 467.01L30.24 455.88L25.16 444.51L20.52 432.91L16.33 421.1L12.58 409.08L9.31 396.86L6.51 384.46L4.19 371.88L2.37 359.13L1.06 346.23L0.27 333.18L0 320L0.27 306.82L1.06 293.77L2.37 280.87L4.19 268.12L6.51 255.54L9.31 243.14L12.58 230.92L16.33 218.9L20.52 207.09L25.16 195.49L30.24 184.12L35.74 172.99L41.65 162.11L47.97 151.49L54.68 141.14L61.78 131.06L69.24 121.28L77.07 111.8L85.25 102.62L93.77 93.77L102.62 85.25L111.8 77.07L121.28 69.24L131.06 61.78L141.14 54.68L151.49 47.97L162.11 41.65L172.99 35.74L184.12 30.24L195.49 25.16L207.09 20.52L218.9 16.33L230.92 12.58L243.14 9.31L255.54 6.51L268.12 4.19L280.87 2.37L293.77 1.06L306.82 0.27L320 0L333.18 0.27L346.23 1.06ZM280 540L360 540L360 260L280 260L280 540ZM316.72 100.13L315.11 100.3L313.52 100.52L311.94 100.81L310.39 101.16L308.87 101.57L307.36 102.04L305.89 102.57L304.44 103.15L303.02 103.78L301.62 104.47L300.26 105.21L298.94 106L297.64 106.84L296.38 107.72L295.16 108.66L293.97 109.63L292.83 110.66L291.72 111.72L290.66 112.83L289.63 113.97L288.66 115.16L287.72 116.38L286.84 117.64L286 118.94L285.21 120.26L284.47 121.62L283.78 123.02L283.15 124.44L282.57 125.89L282.04 127.36L281.57 128.87L281.16 130.39L280.81 131.94L280.52 133.52L280.3 135.11L280.13 136.72L280.03 138.35L280 140L280.03 141.65L280.13 143.28L280.3 144.89L280.52 146.48L280.81 148.06L281.16 149.61L281.57 151.13L282.04 152.64L282.57 154.11L283.15 155.56L283.78 156.98L284.47 158.38L285.21 159.74L286 161.06L286.84 162.36L287.72 163.62L288.66 164.84L289.63 166.03L290.66 167.17L291.72 168.28L292.83 169.34L293.97 170.37L295.16 171.34L296.38 172.28L297.64 173.16L298.94 174L300.26 174.79L301.62 175.53L303.02 176.22L304.44 176.85L305.89 177.43L307.36 177.96L308.87 178.43L310.39 178.84L311.94 179.19L313.52 179.48L315.11 179.7L316.72 179.87L318.35 179.97L320 180L321.65 179.97L323.28 179.87L324.89 179.7L326.48 179.48L328.06 179.19L329.61 178.84L331.13 178.43L332.64 177.96L334.11 177.43L335.56 176.85L336.98 176.22L338.38 175.53L339.74 174.79L341.06 174L342.36 173.16L343.62 172.28L344.84 171.34L346.03 170.37L347.17 169.34L348.28 168.28L349.34 167.17L350.37 166.03L351.34 164.84L352.28 163.62L353.16 162.36L354 161.06L354.79 159.74L355.53 158.38L356.22 156.98L356.85 155.56L357.43 154.11L357.96 152.64L358.43 151.13L358.84 149.61L359.19 148.06L359.48 146.48L359.7 144.89L359.87 143.28L359.97 141.65L360 140L359.97 138.35L359.87 136.72L359.7 135.11L359.48 133.52L359.19 131.94L358.84 130.39L358.43 128.87L357.96 127.36L357.43 125.89L356.85 124.44L356.22 123.02L355.53 121.62L354.79 120.26L354 118.94L353.16 117.64L352.28 116.38L351.34 115.16L350.37 113.97L349.34 112.83L348.28 111.72L347.17 110.66L346.03 109.63L344.84 108.66L343.62 107.72L342.36 106.84L341.06 106L339.74 105.21L338.38 104.47L336.98 103.78L335.56 103.15L334.11 102.57L332.64 102.04L331.13 101.57L329.61 101.16L328.06 100.81L326.48 100.52L324.89 100.3L323.28 100.13L321.65 100.03L320 100L318.35 100.03L316.72 100.13Z" id="c2gmjlbiQX"></path><clipPath id="clipa9r1XgXrt1"><use xlink:href="#c2gmjlbiQX" opacity="1"></use></clipPath></defs><g><g><g><use xlink:href="#c2gmjlbiQX" opacity="1" fill="#ffffff" fill-opacity="1"></use><g clip-path="url(#clipa9r1XgXrt1)"><use xlink:href="#c2gmjlbiQX" opacity="1" fill-opacity="0" stroke="rgb(53,54,58)" stroke-width="40" stroke-opacity="1"></use></g></g></g></g></svg >';
  const questionSvg = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 640 640" width="640" height="640"><defs><path d="M346.23 1.06L359.13 2.37L371.88 4.19L384.46 6.51L396.86 9.31L409.08 12.58L421.1 16.33L432.91 20.52L444.51 25.16L455.88 30.24L467.01 35.74L477.89 41.65L488.51 47.97L498.86 54.68L508.94 61.78L518.72 69.24L528.2 77.07L537.38 85.25L546.23 93.77L554.75 102.62L562.93 111.8L570.76 121.28L578.22 131.06L585.32 141.14L592.03 151.49L598.35 162.11L604.26 172.99L609.76 184.12L614.84 195.49L619.48 207.09L623.67 218.9L627.42 230.92L630.69 243.14L633.49 255.54L635.81 268.12L637.63 280.87L638.94 293.77L639.73 306.82L640 320L639.73 333.18L638.94 346.23L637.63 359.13L635.81 371.88L633.49 384.46L630.69 396.86L627.42 409.08L623.67 421.1L619.48 432.91L614.84 444.51L609.76 455.88L604.26 467.01L598.35 477.89L592.03 488.51L585.32 498.86L578.22 508.94L570.76 518.72L562.93 528.2L554.75 537.38L546.23 546.23L537.38 554.75L528.2 562.93L518.72 570.76L508.94 578.22L498.86 585.32L488.51 592.03L477.89 598.35L467.01 604.26L455.88 609.76L444.51 614.84L432.91 619.48L421.1 623.67L409.08 627.42L396.86 630.69L384.46 633.49L371.88 635.81L359.13 637.63L346.23 638.94L333.18 639.73L320 640L306.82 639.73L293.77 638.94L280.87 637.63L268.12 635.81L255.54 633.49L243.14 630.69L230.92 627.42L218.9 623.67L207.09 619.48L195.49 614.84L184.12 609.76L172.99 604.26L162.11 598.35L151.49 592.03L141.14 585.32L131.06 578.22L121.28 570.76L111.8 562.93L102.62 554.75L93.77 546.23L85.25 537.38L77.07 528.2L69.24 518.72L61.78 508.94L54.68 498.86L47.97 488.51L41.65 477.89L35.74 467.01L30.24 455.88L25.16 444.51L20.52 432.91L16.33 421.1L12.58 409.08L9.31 396.86L6.51 384.46L4.19 371.88L2.37 359.13L1.06 346.23L0.27 333.18L0 320L0.27 306.82L1.06 293.77L2.37 280.87L4.19 268.12L6.51 255.54L9.31 243.14L12.58 230.92L16.33 218.9L20.52 207.09L25.16 195.49L30.24 184.12L35.74 172.99L41.65 162.11L47.97 151.49L54.68 141.14L61.78 131.06L69.24 121.28L77.07 111.8L85.25 102.62L93.77 93.77L102.62 85.25L111.8 77.07L121.28 69.24L131.06 61.78L141.14 54.68L151.49 47.97L162.11 41.65L172.99 35.74L184.12 30.24L195.49 25.16L207.09 20.52L218.9 16.33L230.92 12.58L243.14 9.31L255.54 6.51L268.12 4.19L280.87 2.37L293.77 1.06L306.82 0.27L320 0L333.18 0.27L346.23 1.06ZM316.72 460.13L315.11 460.3L313.52 460.52L311.94 460.81L310.39 461.16L308.87 461.57L307.36 462.04L305.89 462.57L304.44 463.15L303.02 463.78L301.62 464.47L300.26 465.21L298.94 466L297.64 466.84L296.38 467.72L295.16 468.66L293.97 469.63L292.83 470.66L291.72 471.72L290.66 472.83L289.63 473.97L288.66 475.16L287.72 476.38L286.84 477.64L286 478.94L285.21 480.26L284.47 481.62L283.78 483.02L283.15 484.44L282.57 485.89L282.04 487.36L281.57 488.87L281.16 490.39L280.81 491.94L280.52 493.52L280.3 495.11L280.13 496.72L280.03 498.35L280 500L280.03 501.65L280.13 503.28L280.3 504.89L280.52 506.48L280.81 508.06L281.16 509.61L281.57 511.13L282.04 512.64L282.57 514.11L283.15 515.56L283.78 516.98L284.47 518.38L285.21 519.74L286 521.06L286.84 522.36L287.72 523.62L288.66 524.84L289.63 526.03L290.66 527.17L291.72 528.28L292.83 529.34L293.97 530.37L295.16 531.34L296.38 532.28L297.64 533.16L298.94 534L300.26 534.79L301.62 535.53L303.02 536.22L304.44 536.85L305.89 537.43L307.36 537.96L308.87 538.43L310.39 538.84L311.94 539.19L313.52 539.48L315.11 539.7L316.72 539.87L318.35 539.97L320 540L321.65 539.97L323.28 539.87L324.89 539.7L326.48 539.48L328.06 539.19L329.61 538.84L331.13 538.43L332.64 537.96L334.11 537.43L335.56 536.85L336.98 536.22L338.38 535.53L339.74 534.79L341.06 534L342.36 533.16L343.62 532.28L344.84 531.34L346.03 530.37L347.17 529.34L348.28 528.28L349.34 527.17L350.37 526.03L351.34 524.84L352.28 523.62L353.16 522.36L354 521.06L354.79 519.74L355.53 518.38L356.22 516.98L356.85 515.56L357.43 514.11L357.96 512.64L358.43 511.13L358.84 509.61L359.19 508.06L359.48 506.48L359.7 504.89L359.87 503.28L359.97 501.65L360 500L359.97 498.35L359.87 496.72L359.7 495.11L359.48 493.52L359.19 491.94L358.84 490.39L358.43 488.87L357.96 487.36L357.43 485.89L356.85 484.44L356.22 483.02L355.53 481.62L354.79 480.26L354 478.94L353.16 477.64L352.28 476.38L351.34 475.16L350.37 473.97L349.34 472.83L348.28 471.72L347.17 470.66L346.03 469.63L344.84 468.66L343.62 467.72L342.36 466.84L341.06 466L339.74 465.21L338.38 464.47L336.98 463.78L335.56 463.15L334.11 462.57L332.64 462.04L331.13 461.57L329.61 461.16L328.06 460.81L326.48 460.52L324.89 460.3L323.28 460.13L321.65 460.03L320 460L318.35 460.03L316.72 460.13ZM236.7 120.07L233.44 120.27L230.21 120.59L227.02 121.05L223.88 121.63L220.78 122.33L217.72 123.14L214.71 124.08L211.76 125.13L208.86 126.29L206.02 127.56L203.24 128.93L200.51 130.41L197.86 131.99L195.27 133.66L192.75 135.44L190.31 137.3L187.94 139.26L185.64 141.3L183.43 143.43L181.3 145.64L179.26 147.94L177.3 150.31L175.44 152.75L173.66 155.27L171.99 157.86L170.41 160.51L168.93 163.24L167.56 166.02L166.29 168.86L165.13 171.76L164.08 174.71L163.14 177.72L162.33 180.78L161.63 183.88L161.05 187.02L160.59 190.21L160.27 193.44L160.07 196.7L160 200L160 240L220 240L220 200L220.02 199.18L220.07 198.36L220.15 197.55L220.26 196.76L220.41 195.97L220.58 195.19L220.79 194.43L221.02 193.68L221.28 192.94L221.57 192.22L221.89 191.5L222.23 190.81L222.6 190.13L223 189.46L223.42 188.82L223.86 188.19L224.33 187.58L224.81 186.98L225.33 186.41L225.86 185.86L226.41 185.33L226.98 184.81L227.58 184.33L228.19 183.86L228.82 183.42L229.46 183L230.13 182.6L230.81 182.23L231.5 181.89L232.22 181.57L232.94 181.28L233.68 181.02L234.43 180.79L235.19 180.58L235.97 180.41L236.76 180.26L237.55 180.15L238.36 180.07L239.18 180.02L240 180L400 180L400.82 180.02L401.64 180.07L402.45 180.15L403.24 180.26L404.03 180.41L404.81 180.58L405.57 180.79L406.32 181.02L407.06 181.28L407.78 181.57L408.5 181.89L409.19 182.23L409.87 182.6L410.54 183L411.18 183.42L411.81 183.86L412.42 184.33L413.02 184.81L413.59 185.33L414.14 185.86L414.67 186.41L415.19 186.98L415.67 187.58L416.14 188.19L416.58 188.82L417 189.46L417.4 190.13L417.77 190.81L418.11 191.5L418.43 192.22L418.72 192.94L418.98 193.68L419.21 194.43L419.42 195.19L419.59 195.97L419.74 196.76L419.85 197.55L419.93 198.36L419.98 199.18L420 200L420 260L419.98 260.82L419.93 261.64L419.85 262.45L419.74 263.24L419.59 264.03L419.42 264.81L419.21 265.57L418.98 266.32L418.72 267.06L418.43 267.78L418.11 268.5L417.77 269.19L417.4 269.87L417 270.54L416.58 271.18L416.14 271.81L415.67 272.42L415.19 273.02L414.67 273.59L414.14 274.14L413.59 274.67L413.02 275.19L412.42 275.67L411.81 276.14L411.18 276.58L410.54 277L409.87 277.4L409.19 277.77L408.5 278.11L407.78 278.43L407.06 278.72L406.32 278.98L405.57 279.21L404.81 279.42L404.03 279.59L403.24 279.74L402.45 279.85L401.64 279.93L400.82 279.98L400 280L360 280L356.7 280.07L353.44 280.27L350.21 280.59L347.02 281.05L343.88 281.63L340.78 282.33L337.72 283.14L334.71 284.08L331.76 285.13L328.86 286.29L326.02 287.56L323.24 288.93L320.51 290.41L317.86 291.99L315.27 293.66L312.75 295.44L310.31 297.3L307.94 299.26L305.64 301.3L303.43 303.43L301.3 305.64L299.26 307.94L297.3 310.31L295.44 312.75L293.66 315.27L291.99 317.86L290.41 320.51L288.93 323.24L287.56 326.02L286.29 328.86L285.13 331.76L284.08 334.71L283.14 337.72L282.33 340.78L281.63 343.88L281.05 347.02L280.59 350.21L280.27 353.44L280.07 356.7L280 360L280 380L360 380L360 360L360.02 359.18L360.07 358.36L360.15 357.55L360.26 356.76L360.41 355.97L360.58 355.19L360.79 354.43L361.02 353.68L361.28 352.94L361.57 352.22L361.89 351.5L362.23 350.81L362.6 350.13L363 349.46L363.42 348.82L363.86 348.19L364.33 347.58L364.81 346.98L365.33 346.41L365.86 345.86L366.41 345.33L366.98 344.81L367.58 344.33L368.19 343.86L368.82 343.42L369.46 343L370.13 342.6L370.81 342.23L371.5 341.89L372.22 341.57L372.94 341.28L373.68 341.02L374.43 340.79L375.19 340.58L375.97 340.41L376.76 340.26L377.55 340.15L378.36 340.07L379.18 340.02L380 340L400 340L403.3 339.93L406.56 339.73L409.79 339.41L412.98 338.95L416.12 338.37L419.22 337.67L422.28 336.86L425.29 335.92L428.24 334.87L431.14 333.71L433.98 332.44L436.76 331.07L439.49 329.59L442.14 328.01L444.73 326.34L447.25 324.56L449.69 322.7L452.06 320.74L454.36 318.7L456.57 316.57L458.7 314.36L460.74 312.06L462.7 309.69L464.56 307.25L466.34 304.73L468.01 302.14L469.59 299.49L471.07 296.76L472.44 293.98L473.71 291.14L474.87 288.24L475.92 285.29L476.86 282.28L477.67 279.22L478.37 276.12L478.95 272.98L479.41 269.79L479.73 266.56L479.93 263.3L480 260L480 200L479.93 196.7L479.73 193.44L479.41 190.21L478.95 187.02L478.37 183.88L477.67 180.78L476.86 177.72L475.92 174.71L474.87 171.76L473.71 168.86L472.44 166.02L471.07 163.24L469.59 160.51L468.01 157.86L466.34 155.27L464.56 152.75L462.7 150.31L460.74 147.94L458.7 145.64L456.57 143.43L454.36 141.3L452.06 139.26L449.69 137.3L447.25 135.44L444.73 133.66L442.14 131.99L439.49 130.41L436.76 128.93L433.98 127.56L431.14 126.29L428.24 125.13L425.29 124.08L422.28 123.14L419.22 122.33L416.12 121.63L412.98 121.05L409.79 120.59L406.56 120.27L403.3 120.07L400 120L240 120L236.7 120.07Z" id="b4ZizE6A8L"></path><clipPath id="clipbl4J7erNg"><use xlink:href="#b4ZizE6A8L" opacity="1"></use></clipPath></defs><g><g><g><use xlink:href="#b4ZizE6A8L" opacity="1" fill="#ffffff" fill-opacity="1"></use><g clip-path="url(#clipbl4J7erNg)"><use xlink:href="#b4ZizE6A8L" opacity="1" fill-opacity="0" stroke="rgb(53,54,58)" stroke-width="40" stroke-opacity="1"></use></g></g></g></g></svg >';
  const cameraSvg = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 640 640" width="640" height="640"><defs><path d="M310.16 240.4L305.32 240.89L300.54 241.57L295.82 242.44L291.16 243.49L286.58 244.72L282.07 246.12L277.64 247.69L273.29 249.43L269.03 251.33L264.85 253.39L260.77 255.61L256.79 257.98L252.91 260.49L249.13 263.15L245.46 265.95L241.91 268.89L238.47 271.95L235.15 275.15L231.95 278.47L228.89 281.91L225.95 285.46L223.15 289.13L220.49 292.91L217.98 296.79L215.61 300.77L213.39 304.85L211.33 309.03L209.43 313.29L207.69 317.64L206.12 322.07L204.72 326.58L203.49 331.16L202.44 335.82L201.57 340.54L200.89 345.32L200.4 350.16L200.1 355.05L200 360L200.1 364.95L200.4 369.84L200.89 374.68L201.57 379.46L202.44 384.18L203.49 388.84L204.72 393.42L206.12 397.93L207.69 402.36L209.43 406.71L211.33 410.97L213.39 415.15L215.61 419.23L217.98 423.21L220.49 427.09L223.15 430.87L225.95 434.54L228.89 438.09L231.95 441.53L235.15 444.85L238.47 448.05L241.91 451.11L245.46 454.05L249.13 456.85L252.91 459.51L256.79 462.02L260.77 464.39L264.85 466.61L269.03 468.67L273.29 470.57L277.64 472.31L282.07 473.88L286.58 475.28L291.16 476.51L295.82 477.56L300.54 478.43L305.32 479.11L310.16 479.6L315.05 479.9L320 480L324.95 479.9L329.84 479.6L334.68 479.11L339.46 478.43L344.18 477.56L348.84 476.51L353.42 475.28L357.93 473.88L362.36 472.31L366.71 470.57L370.97 468.67L375.15 466.61L379.23 464.39L383.21 462.02L387.09 459.51L390.87 456.85L394.54 454.05L398.09 451.11L401.53 448.05L404.85 444.85L408.05 441.53L411.11 438.09L414.05 434.54L416.85 430.87L419.51 427.09L422.02 423.21L424.39 419.23L426.61 415.15L428.67 410.97L430.57 406.71L432.31 402.36L433.88 397.93L435.28 393.42L436.51 388.84L437.56 384.18L438.43 379.46L439.11 374.68L439.6 369.84L439.9 364.95L440 360L439.9 355.05L439.6 350.16L439.11 345.32L438.43 340.54L437.56 335.82L436.51 331.16L435.28 326.58L433.88 322.07L432.31 317.64L430.57 313.29L428.67 309.03L426.61 304.85L424.39 300.77L422.02 296.79L419.51 292.91L416.85 289.13L414.05 285.46L411.11 281.91L408.05 278.47L404.85 275.15L401.53 271.95L398.09 268.89L394.54 265.95L390.87 263.15L387.09 260.49L383.21 257.98L379.23 255.61L375.15 253.39L370.97 251.33L366.71 249.43L362.36 247.69L357.93 246.12L353.42 244.72L348.84 243.49L344.18 242.44L339.46 241.57L334.68 240.89L329.84 240.4L324.95 240.1L320 240L315.05 240.1L310.16 240.4ZM75.08 579.8L72.66 579.56L70.27 579.21L67.91 578.78L65.58 578.26L63.29 577.64L61.04 576.94L58.82 576.15L56.65 575.28L54.51 574.33L52.43 573.3L50.39 572.19L48.39 571.01L46.45 569.75L44.56 568.42L42.73 567.02L40.95 565.56L39.23 564.02L37.57 562.43L35.98 560.77L34.44 559.05L32.98 557.27L31.58 555.44L30.25 553.55L28.99 551.61L27.81 549.61L26.7 547.57L25.67 545.49L24.72 543.35L23.85 541.18L23.06 538.96L22.36 536.71L21.74 534.42L21.22 532.09L20.79 529.73L20.44 527.34L20.2 524.92L20.05 522.47L20 520L20 220L20.05 217.53L20.2 215.08L20.44 212.66L20.79 210.27L21.22 207.91L21.74 205.58L22.36 203.29L23.06 201.04L23.85 198.82L24.72 196.65L25.67 194.51L26.7 192.43L27.81 190.39L28.99 188.39L30.25 186.45L31.58 184.56L32.98 182.73L34.44 180.95L35.98 179.23L37.57 177.57L39.23 175.98L40.95 174.44L42.73 172.98L44.56 171.58L46.45 170.25L48.39 168.99L50.39 167.81L52.43 166.7L54.51 165.67L56.65 164.72L58.82 163.85L61.04 163.06L63.29 162.36L65.58 161.74L67.91 161.22L70.27 160.79L72.66 160.44L75.08 160.2L77.53 160.05L80 160L180 160L180 120L180.05 117.53L180.2 115.08L180.44 112.66L180.79 110.27L181.22 107.91L181.74 105.58L182.36 103.29L183.06 101.04L183.85 98.82L184.72 96.65L185.67 94.51L186.7 92.43L187.81 90.39L188.99 88.39L190.25 86.45L191.58 84.56L192.98 82.73L194.44 80.95L195.98 79.23L197.57 77.57L199.23 75.98L200.95 74.44L202.73 72.98L204.56 71.58L206.45 70.25L208.39 68.99L210.39 67.81L212.43 66.7L214.51 65.67L216.65 64.72L218.82 63.85L221.04 63.06L223.29 62.36L225.58 61.74L227.91 61.22L230.27 60.79L232.66 60.44L235.08 60.2L237.53 60.05L240 60L400 60L402.47 60.05L404.92 60.2L407.34 60.44L409.73 60.79L412.09 61.22L414.42 61.74L416.71 62.36L418.96 63.06L421.18 63.85L423.35 64.72L425.49 65.67L427.57 66.7L429.61 67.81L431.61 68.99L433.55 70.25L435.44 71.58L437.27 72.98L439.05 74.44L440.77 75.98L442.43 77.57L444.02 79.23L445.56 80.95L447.02 82.73L448.42 84.56L449.75 86.45L451.01 88.39L452.19 90.39L453.3 92.43L454.33 94.51L455.28 96.65L456.15 98.82L456.94 101.04L457.64 103.29L458.26 105.58L458.78 107.91L459.21 110.27L459.56 112.66L459.8 115.08L459.95 117.53L460 120L460 160L560 160L562.47 160.05L564.92 160.2L567.34 160.44L569.73 160.79L572.09 161.22L574.42 161.74L576.71 162.36L578.96 163.06L581.18 163.85L583.35 164.72L585.49 165.67L587.57 166.7L589.61 167.81L591.61 168.99L593.55 170.25L595.44 171.58L597.27 172.98L599.05 174.44L600.77 175.98L602.43 177.57L604.02 179.23L605.56 180.95L607.02 182.73L608.42 184.56L609.75 186.45L611.01 188.39L612.19 190.39L613.3 192.43L614.33 194.51L615.28 196.65L616.15 198.82L616.94 201.04L617.64 203.29L618.26 205.58L618.78 207.91L619.21 210.27L619.56 212.66L619.8 215.08L619.95 217.53L620 220L620 520L619.95 522.47L619.8 524.92L619.56 527.34L619.21 529.73L618.78 532.09L618.26 534.42L617.64 536.71L616.94 538.96L616.15 541.18L615.28 543.35L614.33 545.49L613.3 547.57L612.19 549.61L611.01 551.61L609.75 553.55L608.42 555.44L607.02 557.27L605.56 559.05L604.02 560.77L602.43 562.43L600.77 564.02L599.05 565.56L597.27 567.02L595.44 568.42L593.55 569.75L591.61 571.01L589.61 572.19L587.57 573.3L585.49 574.33L583.35 575.28L581.18 576.15L578.96 576.94L576.71 577.64L574.42 578.26L572.09 578.78L569.73 579.21L567.34 579.56L564.92 579.8L562.47 579.95L560 580L80 580L77.53 579.95L75.08 579.8Z" id="aiYDKjnjZ"></path><clipPath id="clipajzSxWfeV"><use xlink:href="#aiYDKjnjZ" opacity="1"></use></clipPath></defs><g><g><use xlink:href="#aiYDKjnjZ" opacity="1" fill="#ffffff" fill-opacity="1"></use><g clip-path="url(#clipajzSxWfeV)"><use xlink:href="#aiYDKjnjZ" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="40" stroke-opacity="1"></use></g></g></g></svg >';
  const reloadSvg = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 640 640" width="640" height="640"><defs><path d="M320 70C320 70 320 70 320 70C165.36 70 40 195.36 40 350C40 350 40 350 40 350C40 350 40 350 40 350C40 504.64 165.36 630 320 630C320 630 320 630 320 630C320 630 320 630 320 630C474.64 630 600 504.64 600 350C600 350 600 350 600 350L480 350C480 350 480 350 480 350C480 438.37 408.37 510 320 510C320 510 320 510 320 510C320 510 320 510 320 510C231.63 510 160 438.37 160 350C160 350 160 350 160 350C160 350 160 350 160 350C160 261.63 231.63 190 320 190C320 190 320 190 320 190L320 250L460 130L320 10L320 70Z" id="kKwubAV7Y"></path><clipPath id="clipd4252PBtqF"><use xlink:href="#kKwubAV7Y" opacity="1"></use></clipPath></defs><g><g><g><use xlink:href="#kKwubAV7Y" opacity="1" fill="#ffffff" fill-opacity="1"></use><g clip-path="url(#clipd4252PBtqF)"><use xlink:href="#kKwubAV7Y" opacity="1" fill-opacity="0" stroke="rgb(53,54,58)" stroke-width="40" stroke-opacity="1"></use></g></g></g></g></svg >';
</script>
<style>
  body {
    overflow-wrap: break-word;
  }
  h1 {
    font-size: 2rem;
  }
  h2 {
    font-size: 1.5rem;
  }
  h3 {
    font-size: 1.25rem;
  }
  h4 {
    font-size: 1.125rem;
  }
  svg {
    height: 1em;
    width: 1em;
  }
</style>
<div>
  <script>
    document.currentScript.parentNode.style.display = 'none';
  </script>
  <p>
    <span class="en">JavaScript is required for this app.</span>
    <span class="ja">このアプリを開くにはJavaScriptが必要です。</span>
  </p>
</div>
<div id="about-the-app-content">
  <h1>
    <span class="en">Anytime Mirror</span>
    <span class="ja">いつでもミラー</span>
  </h1>
  <p>Version 2.0.0</p>
  <p><a href="https://shikaku1068.github.io/anytime-mirror/">https://shikaku1068.github.io/anytime-mirror/</a></p>
  <p>Copyright 2020 shikaku1068</p>
  <p>Released under <a href="https://opensource.org/licenses/mit-license.php">the MIT license</a>.</p>
  <h2>
    <span class="en">Version History</span>
    <span class="ja">バージョン履歴</span>
  </h2>
  <dl>
    <dt>2.0.0</dt>
    <dd>
      <span class="en">Dec 11, 2021</span>
      <span class="ja">2021年12月11日</span>
    </dd>
    <dd>
      <span class="en">Added snapshot function; UI improvements.</span>
      <span class="ja">スナップショット機能追加。UI改良。</span>
    </dd>
    <dt>1.0.2</dt>
    <dd>
      <span class="en">Nov 28, 2020</span>
      <span class="ja">2020年11月28日</span>
    </dd>
    <dd>
      <span class="en">Minor improvements.</span>
      <span class="ja">細かな改良。</span>
    </dd>
    <dt>1.0.1</dt>
    <dd>
      <span class="en">Nov 24, 2020</span>
      <span class="ja">2020年11月24日</span>
    </dd>
    <dd>
      <span class="en">Minor improvements.</span>
      <span class="ja">細かな改良。</span>
    </dd>
    <dt>1.0</dt>
    <dd>
      <span class="en">Nov 23, 2020</span>
      <span class="ja">2020年11月23日</span>
    </dd>
    <dd>
      <span class="en">Initial release.</span>
      <span class="ja">最初のリリース。</span>
    </dd>
  </dl>
  <h2>
    <span class="en">Disclaimer</span>
    <span class="ja">免責事項</span>
  </h2>
  <p>
    <span class="en">Use of the app is at your own risk. I am not responsible for any harm or loss that you may suffer relating to any use of the app.</span>
    <span class="ja">アプリは自己責任でご利用ください。アプリの利用によって生じるいかなる損害・損失に対しても、作者は一切の責任を負いません。</span>
  </p>
  <h2>
    <span class="en">Acknowledgements</span>
    <span class="ja">謝辞</span>
  </h2>
  <p>
    <span class="en">I deeply thank my American friend, Steven, who politely fixed the English sentences in the app.</span>
    <span class="ja">アプリ内の英文を丁寧に直してくれたアメリカ人の友人スティーブンに深く感謝します。
    </span>
  </p>
</div>
<div id="help-content">
  <h2>
    <span class="en">Features</span>
    <span class="ja">特徴</span>
  </h2>
  <p>
    <span class="en"><strong>Anytime Mirror</strong> is a mirror app for personal maintenance. It is a web based app which works on various devices, so you can use it anytime when necessary. It can also be installed on your device and used offline.</span>
    <span class="ja"><strong>いつでもミラー</strong>は、身だしなみチェック用の鏡アプリです。様々な端末で動くウェブアプリなので、必要な時にいつでも利用できます。端末にインストールしてオフライン利用することも可能です。</span>
  </p>
  <p>
    <span class="en">As a side note, although the app makes use of a camera on your device, the video from it will never be sent out to the internet.</span>
    <span class="ja">なお、アプリは端末のカメラを使用しますが、映像がネットに送信されることはありません。</span>
  </p>
  <h2>
    <span class="en">How to Control</span>
    <span class="ja">操作方法</span>
  </h2>
  <p>
    <span class="en">You can control the app with either a touchscreen, a mouse or a keyboard.</span>
    <span class="ja">アプリはタッチスクリーン、マウス、キーボードのどれでも操作できます。</span>
  </p>
  <h3>
    <span class="en">With a Touchscreen</span>
    <span class="ja">タッチスクリーンによる操作</span>
  </h3>
  <dl>
    <dt>
      <span class="en"><strong>Tap</strong></span>
      <span class="ja"><strong>タップ</strong></span>
    </dt>
    <dd>
      <span class="en">Pause or unpause the video.</span>
      <span class="ja">映像を一時停止／再開する。</span>
    </dd>
    <dt>
      <span class="en"><strong>Double Tap</strong></span>
      <span class="ja"><strong>ダブルタップ</strong></span>
    </dt>
    <dd>
      <span class="en">Hide or reshow the video.</span>
      <span class="ja">映像を隠す／再表示する。</span>
    </dd>
    <dt>
      <span class="en"><strong>Double Tap and Swipe Up/Down</strong></span>
      <span class="ja"><strong>ダブルタップ＋上下にスワイプ</strong></span>
    </dt>
    <dd>
      <span class="en">Scale up or down the video.</span>
      <span class="ja">映像を拡大／縮小する。</span>
    </dd>
    <dt>
      <span class="en"><strong>Swipe</strong></span>
      <span class="ja"><strong>スワイプ</strong></span>
    </dt>
    <dd>
      <span class="en">Shift the video.</span>
      <span class="ja">映像の位置をずらす。</span>
    </dd>
    <dt>
      <span class="en"><strong>Tap </strong></span>
      <script>document.currentScript.parentElement.innerHTML = cameraSvg;</script>
      <span class="ja"><strong>をタップ</strong></span>
    </dt>
    <dd>
      <span class="en">Snapshot the video.</span>
      <span class="ja">映像のスナップショットを撮る。</span>
    </dd>
  </dl>
  <h3>
    <span class="en">With a Mouse</span>
    <span class="ja">マウスによる操作</span>
  </h3>
  <dl>
    <dt>
      <span class="en"><strong>Click</strong></span>
      <span class="ja"><strong>クリック</strong></span>
    </dt>
    <dd>
      <span class="en">Pause or unpause the video.</span>
      <span class="ja">映像を一時停止／再開する。</span>
    </dd>
    <dt>
      <span class="en"><strong>Double Click</strong></span>
      <span class="ja"><strong>ダブルクリック</strong></span>
    </dt>
    <dd>
      <span class="en">Hide or reshow the video.</span>
      <span class="ja">映像を隠す／再表示する。</span>
    </dd>
    <dt>
      <span class="en"><strong>Wheel Up/Down</strong></span>
      <span class="ja"><strong>ホイールを回す</strong></span>
    </dt>
    <dd>
      <span class="en">Scale up or down the video.</span>
      <span class="ja">映像を拡大／縮小する。</span>
    </dd>
    <dt>
      <span class="en"><strong>Drag</strong></span>
      <span class="ja"><strong>ドラッグ</strong></span>
    </dt>
    <dd>
      <span class="en">Shift the video.</span>
      <span class="ja">映像の位置をずらす。</span>
    </dd>
    <dt>
      <span class="en"><strong>Click </strong></span>
      <script>document.currentScript.parentElement.innerHTML = cameraSvg;</script>
      <span class="ja"><strong>をクリック</strong></span>
    </dt>
    <dd>
      <span class="en">Snapshot the video.</span>
      <span class="ja">映像のスナップショットを撮る。</span>
    </dd>
  </dl>
  <h3>
    <span class="en">With a Keyboard</span>
    <span class="ja">キーボードによる操作</span>
  </h3>
  <dl>
    <dt>
      <span class="en"><strong>Space Key</strong></span>
      <span class="ja"><strong>Spaceキー</strong></span>
    </dt>
    <dd>
      <span class="en">Pause or unpause the video.</span>
      <span class="ja">映像を一時停止／再開する。</span>
    </dd>
    <dt>
      <span class="en"><strong>Enter Key</strong></span>
      <span class="ja"><strong>Enterキー</strong></span>
    </dt>
    <dd>
      <span class="en">Hide the video.</span>
      <span class="ja">映像を隠す。</span>
    </dd>
    <dt>
      <span class="en"><strong>Esc Key</strong></span>
      <span class="ja"><strong>Escキー</strong></span>
    </dt>
    <dd>
      <span class="en">Reshow the video.</span>
      <span class="ja">映像を再表示する。</span>
    </dd>
    <dt>
      <span class="en"><strong>PageUp/PageDown Key</strong></span>
      <span class="ja"><strong>PageUp／PageDownキー</strong></span>
    </dt>
    <dd>
      <span class="en">Scale up or down the video.</span>
      <span class="ja">映像を拡大／縮小する。</span>
    </dd>
    <dt>
      <span class="en"><strong>Up/Down/Left/Right Key</strong></span>
      <span class="ja"><strong>Up／Down／Left／Rightキー</strong></span>
    </dt>
    <dd>
      <span class="en">Shift the video.</span>
      <span class="ja">映像の位置をずらす。</span>
    </dd>
  </dl>
  <h2>
    <span class="en">How to Change Settings</span>
    <span class="ja">設定変更方法</span>
  </h2>
  <p>
    <span class="en">Some settings can be changed by adding query parameters to the URL of the app.</span>
    <span class="ja">アプリのURLにクエリ形式のパラメータを付与することで、いくつかの項目を設定変更できます。</span>
  </p>
  <h3>
    <span class="en">Format</span>
    <span class="ja">書式</span>
  </h3>
  <p>
    <span class="en">(App's URL)<strong>?</strong>(Key1)<strong>=</strong>(Value1)<strong>&</strong>(Key2)<strong>=</strong>(Value2)<strong>&</strong>(Key3)<strong>=</strong>(Value3)...</span>
    <span class="ja">(アプリのURL)<strong>?</strong>(キー1)<strong>=</strong>(値1)<strong>&</strong>(キー2)<strong>=</strong>(値2)<strong>&</strong>(キー3)<strong>=</strong>(値3)...</span>
  </p>
  <p>
    <span class="en">* The number of parameters (pairs of a key and a value) doesn't matter.</span>
    <span class="ja">※パラメータ（キーと値の組み合わせ）の数はいくつでも構いません。</span>
  </p>
  <h4>
    <span class="en">Example</span>
    <span class="ja">例</span>
  </h4>
  <p>
    <a href="https://shikaku1068.github.io/anytime-mirror/?fitMode=contain&grayscale=true">https://shikaku1068.github.io/anytime-mirror/?fitMode=contain&grayscale=true</a>
  </p>
  <h3>
    <span class="en">Available Parameters</span>
    <span class="ja">使用できるパラメータ</span>
  </h3>
  <dl>
    <dt><strong>fitMode</strong>=none/contain/cover/fitToWidth/fitToHeight/scaleDown/fill</dt>
    <dd>
      <span class="en">Specify how the initial size of the video is determined. The default value is "cover".</span>
      <span class="ja">映像の初期サイズをどのように決めるかを指定します。既定値は"cover"です。</span>
    </dd>
    <dt><strong>grayscale</strong>=true/false</dt>
    <dd>
      <span class="en">Specify whether the video is shown in grayscale. The default value is "false".</span>
      <span class="ja">映像を白黒で表示するかどうかを指定します。既定値は"false"です。</span>
    </dd>
    <dt><strong>flip</strong>=true/false</dt>
    <dd>
      <span class="en">Specify whether the video is shown flipped horizontally. The default value is "true".</span>
      <span class="ja">映像を左右反転で表示するかどうかを指定します。既定値は"true"です。</span>
    </dd>
    <dt><strong>backgroundColor</strong>=black/%23d00000/rgb(254,205,47)...</dt>
    <dd>
      <span class="en">Specify the color of the background behind the video. The default value is "rgb(17,119,184)".</span>
      <span class="ja">映像の裏の背景色を指定します。既定値は"rgb(17,119,184)"です。</span>
    </dd>
    <dt><strong>hideWait</strong>=0-3600</dt>
    <dd>
      <span class="en">Specify the wait time (seconds) until the video is hidden. The value "0" means the video will not automatically be hidden. The default value is "60".</span>
      <span class="ja">映像を隠すまでの待ち時間を指定します。値が"0"のときは自動的には映像を隠しません。既定値は"60"です。</span>
    </dd>
    <dt><strong>enableSnapshot</strong>=true/false</dt>
    <dd>
      <span class="en">Specify whether the snapshot function is enabled. The default value is "true".</span>
      <span class="ja">スナップショット機能を有効にするかどうかを指定します。既定値は"true"です。</span>
    </dd>
  </dl>
  <h2>
    <span class="en">How to Install</span>
    <span class="ja">インストール方法</span>
  </h2>
  <p>
    <span class="en">The app can be installed on your device and used offline. There are 2 ways for installing: to bookmark its website on your browser or to download its HTML file.</span>
    <span class="ja">アプリは端末にインストールしてオフライン利用することが可能です。インストールには、ブラウザでサイトをブックマークするか、HTMLファイルをダウンロードするかの2通りの方法があります。</span>
  </p>
  <h3>
    <span class="en">Bookmark the Website</span>
    <span class="ja">サイトをブックマークする</span>
  </h3>
  <p>
    <span class="en">Once you access the website of the app, the files used by the app are cached automatically on your device and are able to be opened even offline, as long as service workers are supported in your browser. Bookmarking the website can make using the app easier.</span>
    <span class="ja">一度アプリのサイトにアクセスすると、アプリで使用するファイルが自動的に端末内にキャッシュされ、オフラインでも開けるようになります。ただしブラウザがサービスワーカー機能に対応している必要があります。サイトのブックマークによって、より簡単にアプリを利用できるようになります。</span>
  </p>
  <p>
    <span class="en">Some browsers like Safari for iOS or Chrome for Windows support adding a shortcut icon of a website to the OS home (desktop) screen. By using this function, the app comes to act as if it were a native app.</span>
    <span class="ja">iOS版SafariやWindows版Chromeなどいくつかのブラウザでは、OSのホーム（デスクトップ）画面にウェブサイトのショートカットアイコンを追加する機能があります。この機能を使用すると、アプリは一見ネイティブアプリのように動作するようになります。</span>
  </p>
  <h3>
    <span class="en">Download the HTML File</span>
    <span class="ja">HTMLファイルをダウンロードする</span>
  </h3>
  <p>
    <span class="en">All the major code of the app is written in a single HTML file (index.html). So you can also simply download the HTML file to your device and open it as a local file to use it offline.</span>
    <span class="ja">アプリの主要なコードはすべて単一のHTMLファイル（index.html）に記述されています。そのため、単にHTMLファイルを端末にダウンロードしてローカル環境で開くことでも、アプリをオフラインで利用できます。</span>
  </p>
  <h2>
    <span class="en">Contact Info</span>
    <span class="ja">お問い合わせ</span>
  </h2>
  <p>
    <span class="en">If you have any inquiries about the app, please contact me via Twitter.</span>
    <span class="ja">アプリについてのお問い合わせはTwitterでお送りください。</span>
  </p>
  <p>&#12375;&#12363;&#12367;<a href="https://twitter.com/shikaku1068/">@shikaku1068</a></p>
</div>
