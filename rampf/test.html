<!DOCTYPE html>
<meta charset="utf-8">
<title>test</title>
<script type="module" src="./js/rabbit-phrase.js"></script>
<script type="module">
  import {RabbitPhrase} from './js/rabbit-phrase.js';
  const test = () => {
    const data = {};
    for (let i = 0; i < 120000; i++) {
  //    const rp = new RabbitPhrase({template: '^[私|私たち|あなた|たけし君]は^^[オペラ|ニンジン|散歩|いじわる|社長|飛行機旅行|LAMY]が^^^[好き|嫌い|どちらでもない]です。', pathIdSeed: 11});
      const rp = new RabbitPhrase({template: '^[I|We|You] ^^^[like|^[don’t|don’t|don’t|doesn’t] like|^[don’t|don’t|don’t|doesn’t] like or hate] ^^[opera|carrots|walking|playing trick|our president|traveling by airplane|Lamy].'})
      const key = rp.html;
      data[key] = (data[key] ? data[key] : 0) + 1;
    }
    const div = document.createElement('div');
  //  div.innerText = rp.pathIdSeed;
  //  document.body.append(div);
    let length = 0;
    const dl = document.createElement('dl');
    for (const key in data) {
      length++;
      const dt = document.createElement('dt');
      dt.innerText = key;
      const dd = document.createElement('dd');
      dd.innerText = data[key];
      dl.append(dt);
      dl.append(dd);
    }
    const div2 = document.createElement('div');
    div2.innerText = length;
    document.body.append(div2);
    document.body.append(dl);
  }
  window.addEventListener('load', test);
</script>